const { GoGenerator } = require("@asyncapi/modelina");
const { File } = require("@asyncapi/generator-react-sdk");

export default async function ({ asyncapi, params }) {
  if (asyncapi.channels().length === 0) {
    return;
  }

  const payloadContent = `
// Code generated by go-omiga-template, DO NOT EDIT.

package ${params.packageName}

const TopicName = "${Object.keys(asyncapi.channels())[0]}"
`;

  return <File name="metadata_gen.go">{payloadContent}</File>;
}
