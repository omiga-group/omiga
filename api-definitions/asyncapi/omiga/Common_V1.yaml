asyncapi: 2.4.0

components:
  schemas:
    orderDetails:
      $id: orderDetails
      type: object
      additionalProperties: true
      required:
        - baseCurrency
        - counterCurrency
        - type
        - side
        - quantity
        - price
      properties:
        baseCurrency:
          $ref: "#/components/schemas/currency"
        counterCurrency:
          $ref: "#/components/schemas/currency"
        type:
          $ref: "#/components/schemas/orderType"
        side:
          $ref: "#/components/schemas/orderSide"
        quantity:
          $ref: "#/components/schemas/money"
        price:
          $ref: "#/components/schemas/money"

    money:
      $id: money
      type: object
      additionalProperties: false
      required:
        - amount
        - currency
        - scale
      properties:
        amount:
          type: number
          format: float
        scale:
          type: integer
          format: int32
        currency:
          $ref: "#/components/schemas/currency"

    currency:
      $id: currency
      type: object
      additionalProperties: false
      required:
        - name
        - code
        - maxPrecision
        - digital
      properties:
        name:
          type: string
        code:
          type: string
        maxPrecision:
          type: integer
          format: int32
        digital:
          type: boolean

    orderType:
      $id: orderType
      enum:
        - INSTANT
        - MARKET
        - LIMIT
        - STOP
        - TRAILING_STOP

    orderSide:
      $id: orderSide
      enum:
        - BID
        - ASK

    exchange:
      $id: exchange
      type: object
      additionalProperties: false
      required:
        - id
      properties:
        id:
          type: string
          description: The unique ID of the supported exchange
