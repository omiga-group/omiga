asyncapi: 2.4.0

components:
  schemas:
    orderDetails:
      $id: orderDetails
      type: object
      additionalProperties: true
      required:
        - id
      properties:
        id:
          type: string
          description: The unique order ID
          format: uuid
        baseCurrency:
          $ref: "#/components/schemas/currency"
        counterCurrency:
          $ref: "#/components/schemas/currency"
        type:
          $ref: "#/components/schemas/orderType"
        side:
          $ref: "#/components/schemas/orderSide"
        quantity:
          $ref: "#/components/schemas/money"
        price:
          $ref: "#/components/schemas/money"

    money:
      $id: money
      type: object
      additionalProperties: false
      required:
        - amount
        - currency
        - scale
      properties:
        amount:
          type: integer
          format: int64
        scale:
          type: integer
          format: int32
        currency:
          $ref: "#/components/schemas/currency"

    currency:
      $id: currency
      type: object
      additionalProperties: false
      required:
        - name
        - code
        - maxPrecision
        - digital
      properties:
        name:
          type: string
        code:
          type: string
        maxPrecision:
          type: integer
          format: int32
        digital:
          type: boolean

    orderType:
      $id: orderType
      enum:
        - instant
        - market
        - limit
        - stop
        - trailing_stop

    orderSide:
      $id: orderSide
      enum:
        - bid
        - ask

    exchange:
      $id: exchange
      type: object
      additionalProperties: false
      properties:
        id:
          type: string
          description: The unique ID of the supported exchange
